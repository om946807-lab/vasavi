<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sri Vasavi Jewellers - Bill</title>
    <link rel="stylesheet" href="purchase-print-bill.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
</head>
<body>
    <!-- Desktop/Tablet Header -->
    <header class="desktop-header">
        <h1>Bill Details</h1>
        <div class="header-actions">
            <button class="print-button" id="print-btn" onclick="printBill()">Print</button>
            <button class="share-button" id="share-btn" onclick="shareBill()">Share PDF</button>
            <a href="javascript:history.back()" class="back-button">Back</a>
        </div>
    </header>

    <!-- Bill Container -->
    <div class="bill-wrapper">
        <div class="container" id="bill-content">
            <!-- Original Bill Badge -->
            <div class="original-bill">Sale Bill</div>

            <!-- Logo and Header -->
            <div class="header-section">
                <img src="gold.png" alt="Logo" class="logo" onerror="this.style.display='none'">
                <div class="header-text">
                    <p class="mantra">||Sri Vasavi Prasanna||</p>
                    <h1 class="store-name">SRI VASAVI JEWELLERS</h1>
                    <div class="contact-info">
                        Bagalkot Road, Near Police Station, Mudgal-584125<br>
                        Phone: 7022269436
                    </div>
                </div>
            </div>

            <div class="divider"></div>

            <!-- Bill Info Cards -->
            <div class="info-cards">
                <div class="info-card">
                    <h3>Store Details</h3>
                    <p>SRI VASAVI JEWELLERS</p>
                    <p>Bagalkot Road, Near Police Station</p>
                    <p>Mudgal-584125</p>
                    <p>Phone: 7022269436</p>
                </div>
                <div class="info-card">
                    <h3>Customer Details</h3>
                    <div class="detail-row">
                        <span class="label">Bill Number:</span>
                        <span class="value" id="billNumber">-</span>
                    </div>
                    <div class="detail-row">
                        <span class="label">Name:</span>
                        <span class="value" id="customerName">-</span>
                    </div>
                    <div class="detail-row">
                        <span class="label">Phone:</span>
                        <span class="value" id="customerPhone">-</span>
                    </div>
                    <div class="detail-row">
                        <span class="label">Date:</span>
                        <span class="value" id="billDate">-</span>
                    </div>
                </div>
            </div>

            <!-- Items Section -->
            <div class="section-title">Bill Summary</div>
            <div class="items-container">
                <table class="items-table" id="billSummary">
                    <thead>
                        <tr>
                            <th>Item Name</th>
                            <th>Net Wt(gm)</th>
                            <th>Stone Wt(gm)</th>
                            <th>Rate/gm</th>
                            <th>Wastage</th>
                            <th>Making</th>
                            <th>Total</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Items will be populated here -->
                    </tbody>
                </table>
            </div>

            <!-- Payment and Totals Side by Side -->
            <div class="payment-totals-wrapper">
                <!-- Payment Details (if multiple payments) -->
                <div class="payment-details-container" id="paymentDetailsContainer" style="display: none;">
                    <div class="section-title">Payment Details</div>
                    <table class="payment-table" id="paymentTable">
                        <thead>
                            <tr>
                                <th>Details</th>
                                <th>Amount Paid</th>
                                <th>Date</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Payment details will be populated here -->
                        </tbody>
                    </table>
                    <p class="payment-note">*This is including old balance (if present)</p>
                </div>

                <!-- Total Section -->
                <div class="totals-section">
                    <div class="total-row">
                        <span class="total-label">Subtotal:</span>
                        <span class="total-value" id="subtotal">₹0.00</span>
                    </div>
                    <div class="total-row">
                        <span class="total-label">Discount:</span>
                        <span class="total-value discount" id="discount">₹0.00</span>
                    </div>
                    <div class="total-row">
                        <span class="total-label">Old Gold/Silver:</span>
                        <span class="total-value" id="oldGold">₹0.00</span>
                    </div>
                    <div class="total-row">
                        <span class="total-label">Amount Paid:</span>
                        <span class="total-value" id="amountPaid">₹0.00</span>
                    </div>
                    <div class="total-row" id="oldBalanceRow" style="display: none;">
                        <span class="total-label">Old Balance:</span>
                        <span class="total-value" id="oldBalance">₹0.00</span>
                    </div>
                    <div class="divider"></div>
                    <div class="total-row grand-total">
                        <span class="total-label">Balance Amount:</span>
                        <span class="total-value" id="balanceAmount">₹0.00</span>
                    </div>
                </div>
            </div>

            <!-- Amount in Words -->
            <div class="amount-words">
                <strong>Amount in Words:</strong>
                <span id="amountInWords">Zero Only</span>
            </div>

            <!-- Signature -->
            <div class="signature-section">
                <div class="signature-line">Owner's Signature</div>
            </div>

            <!-- Note -->
            <div class="note-section">
                <strong>Note:</strong> Goods once sold can be exchanged only if returned within 3 days (if unused). No exchanges will be accepted after 3 days.
            </div>

            <div class="divider"></div>

            <!-- Footer -->
            <div class="footer">
                Thank you for visiting Vasavi Jewellers! Visit Again
            </div>
        </div>
    </div>

    <!-- Mobile Action Buttons -->
    <div class="mobile-actions">
        <button class="mobile-btn print-btn" onclick="printBill()">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="6 9 6 2 18 2 18 9"></polyline>
                <path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"></path>
                <rect x="6" y="14" width="12" height="8"></rect>
            </svg>
            Print
        </button>
        <button class="mobile-btn share-btn" onclick="shareBill()">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="18" cy="5" r="3"></circle>
                <circle cx="6" cy="12" r="3"></circle>
                <circle cx="18" cy="19" r="3"></circle>
                <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line>
                <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>
            </svg>
            Share
        </button>
        <button class="mobile-btn back-btn" onclick="history.back()">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <line x1="19" y1="12" x2="5" y2="12"></line>
                <polyline points="12 19 5 12 12 5"></polyline>
            </svg>
            Back
        </button>
    </div>

    <script src="bill-script.js"></script>
</body>
</html>
